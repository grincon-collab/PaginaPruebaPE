<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos - Gabrica Conecta</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="scenarios.css">
    
    <!-- TRACKING ESPEC√çFICO ESCENARIO 2: Support-to-Sales -->
    <script src="tracking-escenario2.js"></script>
    
</head>
<body>
    <!-- Modal de Ayuda Especialista -->
    <div id="specialistModal" class="modal help-modal">
        <div class="modal-content help-content">
            <span class="close-btn" onclick="closeSpecialistModal()">&times;</span>
            <div class="help-icon">üéØ</div>
            <h2>¬øQuieres que un especialista te ayude a elegir la mejor soluci√≥n?</h2>
            <p>Hemos notado que est√°s comparando varios productos. Nuestros expertos pueden ayudarte a encontrar el ideal para tu mascota.</p>
            <div class="help-buttons">
                <button class="btn btn-help-primary" onclick="connectToSpecialist()">
                    üë®‚Äç‚öïÔ∏è Hablar con un especialista
                </button>
                <button class="btn btn-help-secondary" onclick="closeSpecialistModal()">
                    Seguir explorando
                </button>
            </div>
        </div>
    </div>

    <!-- Contenido Principal -->
    <div class="container">
        <header class="scenario-header">
            <div class="brand">
                <span class="brand-logo">üêæ</span>
                <span class="brand-name">Gabrica Conecta</span>
            </div>
            <h1>Cat√°logo de Productos</h1>
            <p class="subtitle">Escenario 2: Support-to-Sales Switch</p>
        </header>

        <main>
            <!-- Navegaci√≥n -->
            <section class="buttons-section">
                <div class="button-group">
                    <a href="index.html" class="btn btn-back">
                        üè† Inicio
                    </a>
                    <a href="escenarios.html" class="btn btn-secondary">
                        üìã Ver Escenarios
                    </a>
                </div>
            </section>

            <!-- Indicadores de Tracking -->
            <section class="tracking-indicators">
                <h3>üìä Indicadores de Tracking (Demo)</h3>
                <div class="indicator-grid">
                    <div class="indicator" id="pdpIndicator">
                        <span class="indicator-label">Productos vistos</span>
                        <span class="indicator-value" id="pdpCount">0</span>
                        <span class="indicator-trigger">Trigger: 3 sin agregar</span>
                    </div>
                    <div class="indicator" id="specsIndicator">
                        <span class="indicator-label">Especificaciones vistas</span>
                        <span class="indicator-value" id="specsCount">0</span>
                        <span class="indicator-trigger">Trigger: 2+</span>
                    </div>
                    <div class="indicator" id="cartIndicator">
                        <span class="indicator-label">Productos en carrito</span>
                        <span class="indicator-value" id="cartCount">0</span>
                        <span class="indicator-trigger">-</span>
                    </div>
                </div>
            </section>

            <!-- Categor√≠as -->
            <section class="categories-nav">
                <button class="category-btn active" onclick="filterCategory('all')">Todos</button>
                <button class="category-btn" onclick="filterCategory('perros')">üêï Perros</button>
                <button class="category-btn" onclick="filterCategory('gatos')">üê± Gatos</button>
                <button class="category-btn" onclick="filterCategory('premium')">‚≠ê Premium</button>
            </section>

            <!-- Grid de Productos -->
            <section class="products-grid">
                <!-- Producto 1 -->
                <div class="product-card" data-category="perros" onclick="viewProduct(1, 'Dog Chow Adulto')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/ff6b35/ffffff?text=üêï" alt="Dog Chow">
                        <span class="product-badge">Popular</span>
                    </div>
                    <div class="product-info">
                        <h3>Dog Chow Adulto 22.7kg</h3>
                        <p class="product-description">Alimento completo para perros adultos</p>
                        <div class="product-price">
                            <span class="price">$189.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(1, 'Dog Chow')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(1, 'Dog Chow')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 2 -->
                <div class="product-card" data-category="gatos" onclick="viewProduct(2, 'Cat Chow Adulto')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/4a90d9/ffffff?text=üê±" alt="Cat Chow">
                    </div>
                    <div class="product-info">
                        <h3>Cat Chow Adulto 8kg</h3>
                        <p class="product-description">Nutrici√≥n balanceada para gatos adultos</p>
                        <div class="product-price">
                            <span class="price">$89.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(2, 'Cat Chow')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(2, 'Cat Chow')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 3 -->
                <div class="product-card" data-category="perros premium" onclick="viewProduct(3, 'Pro Plan Adulto')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/28a745/ffffff?text=‚≠ê" alt="Pro Plan">
                        <span class="product-badge premium">Premium</span>
                    </div>
                    <div class="product-info">
                        <h3>Pro Plan Adulto 15kg</h3>
                        <p class="product-description">Nutrici√≥n avanzada con probi√≥ticos</p>
                        <div class="product-price">
                            <span class="price">$289.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(3, 'Pro Plan')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(3, 'Pro Plan')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 4 -->
                <div class="product-card" data-category="gatos premium" onclick="viewProduct(4, 'Pro Plan Gato')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/9b59b6/ffffff?text=üê±‚≠ê" alt="Pro Plan Gato">
                        <span class="product-badge premium">Premium</span>
                    </div>
                    <div class="product-info">
                        <h3>Pro Plan Gato Adulto 7.5kg</h3>
                        <p class="product-description">F√≥rmula premium para gatos exigentes</p>
                        <div class="product-price">
                            <span class="price">$189.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(4, 'Pro Plan Gato')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(4, 'Pro Plan Gato')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 5 -->
                <div class="product-card" data-category="perros" onclick="viewProduct(5, 'Dog Chow Cachorro')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/f7931e/ffffff?text=üê∂" alt="Dog Chow Cachorro">
                        <span class="product-badge">Nuevo</span>
                    </div>
                    <div class="product-info">
                        <h3>Dog Chow Cachorro 21kg</h3>
                        <p class="product-description">Desarrollo √≥ptimo para cachorros</p>
                        <div class="product-price">
                            <span class="price">$199.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(5, 'Dog Chow Cachorro')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(5, 'Dog Chow Cachorro')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 6 -->
                <div class="product-card" data-category="perros premium" onclick="viewProduct(6, 'Pro Plan Sensitive')">
                    <div class="product-image">
                        <img src="https://via.placeholder.com/200x200/17a2b8/ffffff?text=ü©∫" alt="Pro Plan Sensitive">
                        <span class="product-badge premium">Especializado</span>
                    </div>
                    <div class="product-info">
                        <h3>Pro Plan Sensitive Skin 13kg</h3>
                        <p class="product-description">Para perros con piel sensible</p>
                        <div class="product-price">
                            <span class="price">$329.900</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-specs" onclick="event.stopPropagation(); viewSpecs(6, 'Pro Plan Sensitive')">
                                üìã Especificaciones
                            </button>
                            <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart(6, 'Pro Plan Sensitive')">
                                üõí Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Modal de Especificaciones -->
            <div id="specsModal" class="modal">
                <div class="modal-content specs-content">
                    <span class="close-btn" onclick="closeSpecsModal()">&times;</span>
                    <h2 id="specsTitle">Especificaciones T√©cnicas</h2>
                    <div class="specs-table">
                        <div class="spec-row">
                            <span class="spec-label">Prote√≠na</span>
                            <span class="spec-value" id="specProtein">26%</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Grasa</span>
                            <span class="spec-value" id="specFat">12%</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Fibra</span>
                            <span class="spec-value" id="specFiber">3%</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Humedad</span>
                            <span class="spec-value" id="specMoisture">12%</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Ingrediente principal</span>
                            <span class="spec-value" id="specIngredient">Pollo</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Tama√±o de croqueta</span>
                            <span class="spec-value" id="specSize">Mediano</span>
                        </div>
                    </div>
                    <p class="specs-note">
                        ¬øNecesitas m√°s informaci√≥n? Un especialista puede ayudarte a elegir el mejor producto para tu mascota.
                    </p>
                </div>
            </div>

            <!-- Informaci√≥n del Escenario -->
            <section class="scenario-info">
                <h2>‚ÑπÔ∏è Informaci√≥n del Escenario</h2>
                <div class="scenario-details">
                    <div class="detail-card">
                        <h4>üéØ Objetivo</h4>
                        <p>Convertir consultas t√©cnicas en venta asistida.</p>
                    </div>
                    <div class="detail-card">
                        <h4>‚ö° Se activa cuando</h4>
                        <ul>
                            <li>Usuario visita 3+ productos sin agregar al carrito</li>
                            <li>Navega en "Especificaciones t√©cnicas"</li>
                        </ul>
                    </div>
                    <div class="detail-card">
                        <h4>ü§ñ Acciones del sistema</h4>
                        <ul>
                            <li>Invitaci√≥n: "¬øUn especialista puede ayudarte?"</li>
                            <li>Conexi√≥n con agente enfocado a ventas</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Control de Sesi√≥n -->
            <section class="tracking-section">
                <h2>Control de Sesi√≥n</h2>
                <div class="button-group">
                    <button class="btn btn-destroy" onclick="destroySession()">
                        üõë Terminar Sesi√≥n de Tracking
                    </button>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Laboratorio Predictive Engage - Genesys Cloud | Gabrica</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script src="scenario-products.js"></script>
</body>
</html>
